<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>検索画面</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="search_style.css">
</head>
<body>
    <header id="header-fixed">
        <nav class="navbar navbar-expand-md navbar-dark ">
            <div class="container-lg">
                <a class="my-navbar-brand navbar-brand" href="../top.html">安全管理システム</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#Navbar" aria-controls="Navbar" aria-expanded="false" aria-label="ProA2023">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="Navbar">
                    <ul class="navbar-nav me-auto mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="my-nav-item nav-link" aria-current="page" href="../top.html">トップページ<span class="sr-only"></span>
                            <img class="nav-img" src="../icon/家.png" alt="">
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="accident-search.html" class="my-nav-item nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">検索画面    
                                <img class="nav-img" src="../icon/検索画面.png" alt="">
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="accident-search.html">事故検索
                                <li><a class="dropdown-item" href="accident-detail.html">事故一覧
                                <li><a class="dropdown-item" href="accident-input.html">事故入力画面    
                                </a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a href="#" class="my-nav-item nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">ヒヤリハット
                                <img class="nav-img" src="../icon/カテゴリ.png" alt="">
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="../ヒヤリハット/inputNearmiss.html">ヒヤリハット入力画面</a></li>
                                <li><a class="dropdown-item" href="../ヒヤリハット/Nearmisslist.html">ヒヤリハット一覧</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="my-nav-item nav-link" href="../ワードクラウド/word-cloud.html">ワードクラウド
                                <img class="nav-img" src="../icon/ワードクラウド画面.png" alt="">
                            </a>
                        </li>
                        <li class="nav-bottom">
                            <a href="" onclick="return confirm('ログアウトしてもよろしいですか？');" style="display: inline-block; margin:20px 10px ; padding: 10px 20px; background-color: #ff6347; color: white; text-decoration: none; border-radius: 5px;">
                                ログアウト
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <h2 id="search-title">検索画面</h2>
        <div class="search-box">
            <!-- Search form -->
            <form id="search-form" onsubmit="performSearch(event)">
                <div class="mb-3">
                    <label for="keyword-input" class="form-label">キーワードを入力 (工事の種類や重機名)</label>
                    <input type="text" id="keyword-input" class="form-control" placeholder="例: コンクリート, ">
                </div>
                <button type="submit" class="btn btn-primary">検索</button>
            </form>

            <!-- Search results area -->
            <div id="search-results" class="mt-3">
                <!-- Results will be displayed here -->
            </div>
        </div>
    </div>

    <footer>
        <p>文教大学 情報学部 情報システム学科 プロジェクト演習C</p>
    </footer>

    <script>
        function performSearch(event) {
            event.preventDefault();  // Prevent page reload

            const keyword = document.getElementById("keyword-input").value.trim();
            const resultsContainer = document.getElementById("search-results");

            resultsContainer.innerHTML = "";  // Clear previous results

            if (keyword !== "") {
                // Sample data for search results (replace with actual search logic if needed)
                const sampleResults = [
                    { type: "工事", name: "コンクリート工事", description: "基礎工事に使用されるコンクリート施工。" },
                    { type: "重機", name: "クレーン", description: "重量物を持ち上げるための機器。" },
                    // Add more sample results as needed
                ];

                // Filter results based on keyword
                const filteredResults = sampleResults.filter(item => 
                    item.name.includes(keyword) || item.description.includes(keyword)
                );

                if (filteredResults.length > 0) {
                    filteredResults.forEach(result => {
                        const resultItem = document.createElement("div");
                        resultItem.classList.add("search-result-item", "border", "p-2", "mb-2");
                        resultItem.innerHTML = `<strong>${result.type}: ${result.name}</strong><br>${result.description}`;
                        resultsContainer.appendChild(resultItem);
                    });
                } else {
                    resultsContainer.innerHTML = "<p>該当する結果がありません。</p>";
                }
            } else {
                alert("キーワードを入力してください。");
            }
        }
    </script>
</body>
</html>
